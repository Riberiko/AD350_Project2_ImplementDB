-- Add your MySql Statements to this txt file

CREATE DATABASE Acme;
USE Acme;

--  Cheryl enter statements below:
CREATE TABLE Inventory(
	productID INT UNSIGNED NOT NULL,
	quantity INT UNSIGNED NOT NULL,
	updateDate DATE NOT NULL,
	PRIMARY KEY (productID),
	FOREIGN KEY (productID) REFERENCES Product(productID),
	ON DELETE RESTRICT,
	ON UPDATE CASCADE
);

CREATE TABLE TransactionLineItem(
	transactionID INT UNSIGNED NOT NULL,
	productID INT UNSIGNED NOT NULL,
	quantity INT UNSIGNED NOT NULL,
	unitPrice DECIMAL(6,2) UNSIGNED NOT NULL,
	PRIMARY KEY (transactionID, productID),
	FOREIGN KEY (transactionID) REFERENCES Transaction(transactionID),
	ON DELETE RESTRICT,
	ON UPDATE CASCADE
	FOREIGN KEY (productID) REFERENCES Product(productID),
	ON DELETE RESTRICT,
	ON UPDATE CASCADE
);

CREATE TABLE LineItemPrice(
	transactionID INT UNSIGNED NOT NULL,
	productID INT UNSIGNED NOT NULL,
	price DECIMAL(6,2) UNSIGNED NOT NULL,
	PRIMARY KEY (transactionID, productID),
	FOREIGN KEY (transactionID) REFERENCES Transaction(transactionID)
	ON DELETE RESTRICT,
	ON UPDATE CASCADE
	FOREIGN KEY (productID) REFERENCES Product(productID)
	ON DELETE RESTRICT,
	ON UPDATE CASCADE
);


--  Chris enter statements below:

CREATE TABLE User (
	userID INT UNSIGNED AUTO_INCREMENT,
	email VARCHAR(320) NOT NULL UNIQUE,
	password VARCHAR(50) NOT NULL,
	firstName VARCHAR(100) NOT NULL,
	LastName VARCHAR(100) NOT NULL,
	PRIMARY KEY (userID)
);

CREATE TABLE UserCreditCard (
	paymentID INT UNSIGNED AUTO_INCREMENT,
	userID INT UNSIGNED NOT NULL,
	cardNumber CHAR(16) NOT NULL,
	expMonth SMALLINT NOT NULL,
	expYear SMALLINT NOT NULL,
	PRIMARY KEY (paymentID),
	FOREIGN KEY (userID) 
	REFERENCES User(userID) 
	ON UPDATE CASCADE 
	ON DELETE CASCADE
);


--  Michael enter statements below:


--  Riko enter statements below:
